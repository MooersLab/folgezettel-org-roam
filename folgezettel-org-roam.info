This is folgezettel-org-roam.info, produced by makeinfo version 7.2 from
folgezettel-org-roam.texi.

This manual is for Folgezettel Org-Roam (version 2.3.0).

   Copyright © 2025 Blaine Mooers.

     Permission is granted to copy, distribute and/or modify this
     document under the terms of the GNU Free Documentation License,
     Version 1.3 or any later version published by the Free Software
     Foundation; with no Invariant Sections, no Front-Cover Texts, and
     no Back-Cover Texts.
INFO-DIR-SECTION Emacs
START-INFO-DIR-ENTRY
* Folgezettel Org-Roam: (folgezettel-org-roam). Automatic folgezettel linking for org-roam.
END-INFO-DIR-ENTRY


File: folgezettel-org-roam.info,  Node: Top,  Next: Introduction,  Up: (dir)

Folgezettel Org-Roam
********************

This manual describes Folgezettel Org-Roam, an Emacs package that
provides automatic bidirectional link generation for org-roam notes
using folgezettel (Luhmann-style) indexing.

   This manual is for Folgezettel Org-Roam (version 2.3.0).

   Copyright © 2025 Blaine Mooers.

     Permission is granted to copy, distribute and/or modify this
     document under the terms of the GNU Free Documentation License,
     Version 1.3 or any later version published by the Free Software
     Foundation; with no Invariant Sections, no Front-Cover Texts, and
     no Back-Cover Texts.

* Menu:

* Introduction::                What is Folgezettel Org-Roam?
* Installation::                How to install the package.
* Quick Start::                 Get started quickly.
* Folgezettel Addresses::       Understanding the addressing system.
* Usage::                       How to use the package.
* Customization::               Configuring the package.
* Commands::                    Interactive commands reference.
* Testing::                     Running the test suite.
* Troubleshooting::             Common issues and solutions.
* Index::                       Concept and function index.


File: folgezettel-org-roam.info,  Node: Introduction,  Next: Installation,  Prev: Top,  Up: Top

1 Introduction
**************

Folgezettel Org-Roam is an Emacs package that brings Niklas Luhmann's
folgezettel (follow-up slip) system to org-roam.  The package
automatically manages bidirectional links between parent and child notes
based on their folgezettel addresses.

1.1 What is a Folgezettel?
==========================

A folgezettel is a sequential numbering system used in the Zettelkasten
(slip-box) method.  Each note has an address that encodes its position
in a hierarchy of ideas.  For example:

   • ‘1’ - A root note (first topic)
   • ‘1.2’ - Second subtopic of note 1
   • ‘1.2a’ - First branch from 1.2
   • ‘1.2a3’ - Third continuation of 1.2a

1.2 Features
============

   • Automatic parent backlink generation when creating child notes
   • Automatic forward link insertion in parent notes
   • Bidirectional cross-linking when manually inserting links
   • Validation to prevent invalid addresses
   • Duplicate index detection
   • Suggestions for next child address
   • Database synchronization for immediate link visibility


File: folgezettel-org-roam.info,  Node: Installation,  Next: Quick Start,  Prev: Introduction,  Up: Top

2 Installation
**************

2.1 Requirements
================

   • Emacs 27.1 or later
   • org-roam 2.0 or later

2.2 From MELPA
==============

Once the package is available on MELPA:

     M-x package-install RET folgezettel-org-roam RET

2.3 Manual Installation
=======================

  1. Clone the repository:
          git clone https://github.com/MooersLab/folgezettel-org-roam.git

  2. Add to your load path in ‘init.el’:
          (add-to-list 'load-path "/path/to/folgezettel-org-roam")
          (require 'folgezettel-org-roam)

  3. Enable the mode:
          (folgezettel-org-roam-mode 1)

2.4 Installing the Info Manual
==============================

To install the Info manual for access within Emacs:

     make info
     sudo make install-info

   Or manually:

     makeinfo folgezettel-org-roam.texi
     sudo cp folgezettel-org-roam.info /usr/local/share/info/
     sudo install-info /usr/local/share/info/folgezettel-org-roam.info \
         /usr/local/share/info/dir

   Then access via ‘C-h i d m Folgezettel Org-Roam RET’.


File: folgezettel-org-roam.info,  Node: Quick Start,  Next: Folgezettel Addresses,  Prev: Installation,  Up: Top

3 Quick Start
*************

3.1 Basic Setup
===============

Add to your ‘init.el’:

     (require 'folgezettel-org-roam)
     (folgezettel-org-roam-mode 1)

3.2 Creating Your First Notes
=============================

  1. Create a root note with a folgezettel title:
          M-x org-roam-node-find RET
          Title: 1 My First Topic

  2. Open the root note and create a child:
          M-x folgezettel-org-roam-insert-next-child RET

  3. The package suggests ‘1.1’ as the first child.  Enter a title when
     prompted.

  4. Both notes now have bidirectional links:
        − Child note has "Parent Note" section with link to ‘1’
        − Parent note has "Child Notes" section with link to child


File: folgezettel-org-roam.info,  Node: Folgezettel Addresses,  Next: Usage,  Prev: Quick Start,  Up: Top

4 Folgezettel Addresses
***********************

4.1 Address Structure
=====================

Folgezettel addresses follow a strict hierarchical pattern:

‘1, 2, 3, ...’
     Root notes (single numbers)
‘1.1, 1.2, 1.13, ...’
     First-level subtopics (number DOT number)
‘1.2a, 1.2b, ..., 1.2z’
     Letter branches (lowercase letters)
‘1.2aa, 1.2ab, ..., 1.2zz’
     Extended letter branches (after z comes aa)
‘1.2a1, 1.2a2, ...’
     Numeric continuations of letter branches

4.2 Alternation Rules
=====================

The address system follows strict alternation:

  1. Root numbers can only have DOT-number children (‘1’ ⇒ ‘1.1’)
  2. DOT-number nodes can only have letter children (‘1.1’ ⇒ ‘1.1a’)
  3. Letter-ending nodes can only have number children (‘1.1a’ ⇒
     ‘1.1a1’)
  4. The pattern continues alternating

4.3 Parent-Child Relationships
==============================

Child                  Parent                 Relationship
----------------------------------------------------------------------------
‘1.2’                  ‘1’                    Remove .number
‘1.2a’                 ‘1.2’                  Remove letters
‘1.2aa’                ‘1.2’                  Remove ALL letters
‘1.2a3’                ‘1.2a’                 Remove trailing number
‘1.2a3b’               ‘1.2a3’                Remove trailing letters

4.4 Valid vs Invalid Addresses
==============================

4.4.1 Valid Examples
--------------------

   • ‘1’ - Root note
   • ‘1.13’ - Multi-digit subtopic
   • ‘1.2a’ - Single letter branch
   • ‘1.2aa’ - Extended letter (27th child)
   • ‘1.2a3c5d7’ - Deep hierarchy

4.4.2 Invalid Examples
----------------------

   • ‘1.2.3’ - Multiple periods not allowed
   • ‘1.2A’ - Uppercase not allowed
   • ‘1.2a!’ - Special characters not allowed
   • ‘a1’ - Must start with number


File: folgezettel-org-roam.info,  Node: Usage,  Next: Customization,  Prev: Folgezettel Addresses,  Up: Top

5 Usage
*******

5.1 Automatic Link Creation
===========================

When ‘folgezettel-org-roam-mode’ is enabled, creating a new note with a
folgezettel address automatically:

  1. Identifies the parent note based on the address
  2. Inserts a backlink under ‘** Parent Note’ in the new note
  3. Inserts a forward link under ‘** Child Notes’ in the parent

5.2 Creating Child Notes
========================

The recommended way to create child notes:

     M-x folgezettel-org-roam-insert-next-child

   This command:
  1. Reads the current note's folgezettel address
  2. Suggests the next available child address
  3. Prompts for a title
  4. Creates the note with proper bidirectional links

5.3 Manual Link Addition
========================

For existing notes without links:

     M-x folgezettel-org-roam-add-backlink-to-parent

5.4 Cross-Reference Links
=========================

When you insert a link to another org-roam note using ‘C-c C-l’ or
‘org-roam-node-insert’, a reciprocal link is automatically created in
the target note under ‘** Cross References’.

   This can be disabled:
     (setq folgezettel-org-roam-auto-crosslink nil)


File: folgezettel-org-roam.info,  Node: Customization,  Next: Commands,  Prev: Usage,  Up: Top

6 Customization
***************

All customization options are in the ‘folgezettel-org-roam’ group:

     M-x customize-group RET folgezettel-org-roam RET

6.1 Link Descriptions
=====================

 -- User Option: folgezettel-org-roam-parent-link-description
     Description text for parent links.  Default: ‘"Parent note"’.

 -- User Option: folgezettel-org-roam-child-link-description
     Description for child links.  If ‘nil’ (default), uses the child's
     title.

6.2 Headings
============

 -- User Option: folgezettel-org-roam-backlink-heading
     Heading for parent links in child notes.  Default: ‘"Parent Note"’.
     Set to ‘nil’ to insert without a heading.

 -- User Option: folgezettel-org-roam-forward-link-heading
     Heading for child links in parent notes.  Default: ‘"Child Notes"’.

 -- User Option: folgezettel-org-roam-crosslink-heading
     Heading for cross-reference links.  Default: ‘"Cross References"’.

6.3 Behavior
============

 -- User Option: folgezettel-org-roam-auto-crosslink
     Enable automatic reciprocal links when inserting cross-references.
     Default: ‘t’.

 -- User Option: folgezettel-org-roam-sync-db-before-queries
     Sync org-roam database before queries.  Default: ‘t’.  Recommended
     for reliability.

6.4 Example Configuration
=========================

     (use-package folgezettel-org-roam
       :after org-roam
       :config
       (setq folgezettel-org-roam-parent-link-description "↑ Parent"
             folgezettel-org-roam-backlink-heading "Parent Note"
             folgezettel-org-roam-forward-link-heading "Child Notes"
             folgezettel-org-roam-auto-crosslink t)
       (folgezettel-org-roam-mode 1))


File: folgezettel-org-roam.info,  Node: Commands,  Next: Testing,  Prev: Customization,  Up: Top

7 Commands
**********

7.1 Interactive Commands
========================

 -- Command: folgezettel-org-roam-mode
     Toggle the minor mode.  When enabled, automatically creates
     bidirectional links for new notes with folgezettel addresses.

 -- Command: folgezettel-org-roam-insert-next-child
     Create a new child note of the current note.  Suggests the next
     available address and prompts for a title.  Creates bidirectional
     links automatically.

 -- Command: folgezettel-org-roam-add-backlink-to-parent
     Manually add bidirectional links between the current note and its
     parent.  Useful for existing notes or when automatic linking fails.

 -- Command: folgezettel-org-roam-report-validation-errors address
     Interactively validate an address and display any errors.

 -- Command: folgezettel-org-roam-diagnose-address address
     Diagnose issues finding a folgezettel address in the database.
     Shows all nodes and their extracted addresses.

 -- Command: folgezettel-org-roam-check-duplicate-index address
     Check if an address is already used.  Warns if duplicate found.

7.2 Suggested Key Bindings
==========================

     (with-eval-after-load 'org-roam
       (define-key org-roam-mode-map (kbd "C-c n c")
         #'folgezettel-org-roam-insert-next-child)
       (define-key org-roam-mode-map (kbd "C-c n p")
         #'folgezettel-org-roam-add-backlink-to-parent))


File: folgezettel-org-roam.info,  Node: Testing,  Next: Troubleshooting,  Prev: Commands,  Up: Top

8 Testing
*********

The package includes a comprehensive test suite with 64 tests.

8.1 Running Tests
=================

8.1.1 From Command Line
-----------------------

     # Run all tests
     make test

     # Run unit tests only
     make test-unit

     # Run integration tests
     make test-integration

     # Run with verbose output
     make test-verbose

8.1.2 From Within Emacs
-----------------------

     M-x ert RET t RET

   Or load and run specific categories:

     (load-file "test-folgezettel-org-roam.el")
     (ert-run-tests-interactively "^test-parse")

8.2 Test Categories
===================

Category               Count   Description
---------------------------------------------------------------------------
Parsing                9       Address parsing functions
Extraction             5       Title extraction
Letter sequences       5       Alphabet incrementing
Validation             16      Address validation
Suggestions            8       Child address suggestions
Link insertion         6       Link creation in files
Integration            2       Full workflow tests
Edge cases             5       Boundary conditions
Regression             5       Previously fixed bugs
Performance            2       Speed benchmarks

8.3 Test File Structure
=======================

The test file ‘test-folgezettel-org-roam.el’ includes:

   • Mock infrastructure for org-roam nodes
   • Temporary directory management
   • Helper functions for test isolation
   • Comprehensive assertions with clear failure messages


File: folgezettel-org-roam.info,  Node: Troubleshooting,  Next: Index,  Prev: Testing,  Up: Top

9 Troubleshooting
*****************

9.1 Parent Note Not Found
=========================

If the parent note is not found:

  1. Run ‘M-x folgezettel-org-roam-diagnose-address’ with the parent
     address
  2. Verify the parent note exists with the correct folgezettel in its
     title
  3. Run ‘M-x org-roam-db-sync’ to update the database

9.2 Links Not Appearing in Backlinks Buffer
===========================================

Ensure database sync is enabled:

     (setq folgezettel-org-roam-sync-db-before-queries t)

9.3 Invalid Address Errors
==========================

Use validation to check addresses:

     M-x folgezettel-org-roam-report-validation-errors RET 1.2a RET

   Common issues:
   • Multiple periods (‘1.2.3’) - only one allowed
   • Uppercase letters (‘1.2A’) - use lowercase only
   • Special characters - only digits, lowercase letters, and one period

9.4 Mode Not Working
====================

Verify the mode is enabled:

     (folgezettel-org-roam-mode 1)

   Check that the hook is registered:

     (member 'folgezettel-org-roam--process-new-node
             org-roam-capture-new-node-hook)


File: folgezettel-org-roam.info,  Node: Index,  Prev: Troubleshooting,  Up: Top

Appendix A Index
****************

A.1 Concept Index
=================

 [index ]
* Menu:

* address format:                        Folgezettel Addresses.
                                                               (line  6)
* automatic linking:                     Usage.                (line  9)
* cross-references:                      Usage.                (line 39)
* ERT:                                   Testing.              (line  6)
* folgezettel:                           Introduction.         (line  6)
* hierarchy:                             Folgezettel Addresses.
                                                               (line  5)
* Luhmann:                               Introduction.         (line  6)
* testing:                               Testing.              (line  6)
* troubleshooting:                       Troubleshooting.      (line  9)
* Zettelkasten:                          Introduction.         (line  6)

A.2 Function Index
==================

 [index ]
* Menu:

* customize-group:                       Customization.        (line  6)
* folgezettel-org-roam-add-backlink-to-parent: Usage.          (line 32)
* folgezettel-org-roam-add-backlink-to-parent <1>: Commands.   (line 18)
* folgezettel-org-roam-check-duplicate-index: Commands.        (line 29)
* folgezettel-org-roam-diagnose-address: Commands.             (line 25)
* folgezettel-org-roam-insert-next-child: Usage.               (line 19)
* folgezettel-org-roam-insert-next-child <1>: Commands.        (line 13)
* folgezettel-org-roam-mode:             Commands.             (line  9)
* folgezettel-org-roam-report-validation-errors: Commands.     (line 22)
* package-install:                       Installation.         (line 15)


Tag Table:
Node: Top653
Node: Introduction1963
Node: Installation3157
Node: Quick Start4333
Node: Folgezettel Addresses5175
Node: Usage7266
Node: Customization8557
Node: Commands10387
Node: Testing11906
Node: Troubleshooting13568
Node: Index14817

End Tag Table


Local Variables:
coding: utf-8
Info-documentlanguage: en
End:
